@model WebApplication1.Models.Kisi

@{
    ViewData["Title"] = "Kişi Görüntüle";
}

<h2>Kişi ID’ye Göre Sorgula</h2>

<form asp-action="KisiGoruntule" method="post">
    <div class="form-group">
        <label for="id">Kişi ID:</label>
        <input type="number" name="id" class="form-control" required />
    </div>
    <button type="submit" class="btn btn-primary mt-2">Sorgula</button>
</form>

@if (Model != null)
{
    <div class="mt-4">
        <h4>Kişi Bilgileri</h4>
        <ul class="list-group">
            <li class="list-group-item"><strong>ID:</strong> @Model.Id</li>
            <li class="list-group-item"><strong>Ad:</strong> @Model.Ad</li>
            <li class="list-group-item"><strong>Soyad:</strong> @Model.Soyad</li>
            <li class="list-group-item"><strong>Email:</strong> @Model.Email</li>
            <li class="list-group-item"><strong>Departman:</strong> @Model.Departman</li>
            <li class="list-group-item"><strong>Doğum Tarihi:</strong> @Model.DogumTarihi.ToShortDateString()</li>
            <li class="list-group-item"><strong>İş Tanımı:</strong> @Model.IsTanimi</li>
        </ul>
    </div>
}
else if (ViewBag.Hata != null)
{
    <div class="alert alert-warning mt-3">
        @ViewBag.Hata
    </div>
}

<hr class="my-4" />
<h3>Tüm Kişiler</h3>

@{
    var kisiler = ViewBag.Kisiler as List<WebApplication1.Models.Kisi>;
}

@if (kisiler != null && kisiler.Any())
{
    <table class="table table-bordered mt-3">
        <thead>
            <tr>
                <th>ID</th>
                <th>Ad</th>
                <th>Soyad</th>
                <th>Email</th>
                <th>Departman</th>
                <th>Doğum Tarihi</th>
                <th>İş Tanımı</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var kisi in kisiler)
            {
                <tr>
                    <td>@kisi.Id</td>
                    <td>@kisi.Ad</td>
                    <td>@kisi.Soyad</td>
                    <td>@kisi.Email</td>
                    <td>@kisi.Departman</td>
                    <td>@kisi.DogumTarihi.ToShortDateString()</td>
                    <td>@kisi.IsTanimi</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>Henüz kayıtlı kişi bulunamadı.</p>
}
